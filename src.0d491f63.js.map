{"version":3,"sources":["js/api.js","js/header-home.js","js/modal.js","js/popular.js","index.js"],"names":["API_KEY","refs","searchForm","document","querySelector","warning","onSearchFormSubmit","e","preventDefault","form","currentTarget","searchQuery","search","value","hideSearchWarning","reset","showSearchWarning","classList","remove","add","addEventListener","btnClick","modal","closeBtn","modalWrapper","backdrop","filmDetails","modalMarkup","closeModalBackdrop","target","closeModal","closeModalEscape","key","removeEventListener","toggleModal","renderModal","textContent","insertAdjacentHTML","BASE_URL","API_URL","IMG_URL","main","genres","popularOnPageLoad","getMovies","url","fetch","then","res","json","data","showMovies","results","markup","map","title","poster_path","release_date","genre_ids","movieGenre","filter","el","id","name","join","year","Date","getFullYear","toUpperCase"],"mappings":"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","file":"src.0d491f63.js","sourceRoot":"../src","sourcesContent":["const API_KEY = `1b50ba0e0b99203af5e26bdcee6d2298`;","const refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  warning: document.querySelector('.js-warning'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  const searchQuery = form.search.value;\n  hideSearchWarning();\n\n  if (searchQuery === '') {\n    showSearchWarning();\n    return;\n  }\n\n  form.reset();\n}\n\nfunction showSearchWarning() {\n  refs.warning.classList.remove('is-hidden');\n}\n\nfunction hideSearchWarning() {\n  refs.warning.classList.add('is-hidden');\n}\n","\nconst refs = {\n   btnClick: document.querySelector('.btn'),\n   modal: document.querySelector('.film-details'),\n   closeBtn: document.querySelector('.modal__icon-close'),\n   modalWrapper: document.querySelector('.modal-wrapper'),\n   backdrop: document.querySelector('.backdrop'),\n   filmDetails: document.querySelector('.film-details'),\n}\n\nrefs.btnClick.addEventListener('click', renderModal)\n\n\n\nfunction modalMarkup() {\n   \n   \n    return `\n      <img\n        class=\"film-details__image\"\n        src=\"https://fakeimg.pl/350x200/?text=Hello\"\n        alt=\"временная картинка\"\n      />\n      <div class=\"film-details__wrapper\">\n        <h2 class=\"film-details__title\">Title</h2>\n        <ul class=\"film-details__list \">\n          <li class=\"film-details__item\">\n            <p class=\"film-details__text\">Vote / Votes</p>\n            <span class=\"film-details__span film-details__span--accent\"\n              >7.3</span\n            >\n            <span class=\"film-details__separator\">/</span>\n            <span class=\"film-details__span film-details__span--noaccent\"\n              >1260</span\n            >\n          </li>\n          <li class=\"film-details__item\">\n            <p class=\"film-details__text\">Popularity</p>\n            <span class=\"film-details__span\">100.2</span>\n          </li>\n          <li class=\"film-details__item\">\n            <p class=\"film-details__text\">Original Title</p>\n            <span class=\"film-details__span\">A FISTFUL OF LEAD</span>\n          </li>\n          <li class=\"film-details__item\">\n            <p class=\"film-details__text\">Genre</p>\n            <span class=\"film-details__span\">Comedia</span>\n          </li>\n        </ul>\n        <p class=\"film-details__about\">About</p>\n        <p class=\"film-details__overview\">\n          Four of the West’s most infamous outlaws assemble to steal a huge\n          stash of gold from the most corrupt settlement of the gold rush towns.\n          But not all goes to plan one is killed and the other three escapes\n          with bags of gold hide out in the abandoned gold mine where they\n          happen across another gang of three – who themselves were planning to\n          hit the very same bank! As tensions rise, things go from bad to worse\n          as they realise the bags of gold are filled with lead... they’ve been\n          double crossed – but by who and how?\n        </p>\n\n       \n\n        <ul class=\"film-details__btn-list\">\n          <li class=\"film-details__btn-item\">\n            <button type=\"button\" class=\"film-details__btn film-details__btn--watched\">add to Watched</button>\n          </li>\n          <li class=\"film-details__btn-item\">\n            <button type=\"button\" class=\"film-details__btn film-details__btn--queue\">add to queue</button>\n          </li>\n        </ul>\n      </div>\n   \n   \n  `\n   \n}\n\nfunction closeModalBackdrop(e) {\n\n  if (e.target.classList.value !== \"backdrop\") {\n    return;\n  }\n  closeModal();\n}\n\nfunction closeModalEscape(e) {\n  if (e.key !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\n\nfunction closeModal() {\n   refs.modalWrapper.classList.add('is-hidden')\n   refs.backdrop.removeEventListener('click' , closeModal)\n   document.removeEventListener('keydown', e => closeModalEscape(e))\n}\n\nfunction toggleModal() {\n  refs.closeBtn.addEventListener('click', closeModal);\n  refs.backdrop.addEventListener('click',e => closeModalBackdrop(e));\n  document.addEventListener('keydown', e => closeModalEscape(e)); \n   \n}\nfunction renderModal() {\n   refs.filmDetails.textContent = ''\n   refs.modalWrapper.classList.remove('is-hidden');\n   refs.filmDetails.insertAdjacentHTML('beforeend', modalMarkup()) \n   toggleModal()\n}\n\n","// import axios from 'axios'\n\nconst API_KEY = 'api_key=1cf50e6248dc270629e802686245c2c8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_URL = BASE_URL + '/discover/movie?sort_by=popularity.desc&'+API_KEY+'&genre';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst main = document.querySelector('.popular__mov');\n\nconst genres = [\n    {\n      \"id\": 28,\n      \"name\": \"Action\"\n    },\n    {\n      \"id\": 12,\n      \"name\": \"Adventure\"\n    },\n    {\n      \"id\": 16,\n      \"name\": \"Animation\"\n    },\n    {\n      \"id\": 35,\n      \"name\": \"Comedy\"\n    },\n    {\n      \"id\": 80,\n      \"name\": \"Crime\"\n    },\n    {\n      \"id\": 99,\n      \"name\": \"Documentary\"\n    },\n    {\n      \"id\": 18,\n      \"name\": \"Drama\"\n    },\n    {\n      \"id\": 10751,\n      \"name\": \"Family\"\n    },\n    {\n      \"id\": 14,\n      \"name\": \"Fantasy\"\n    },\n    {\n      \"id\": 36,\n      \"name\": \"History\"\n    },\n    {\n      \"id\": 27,\n      \"name\": \"Horror\"\n    },\n    {\n      \"id\": 10402,\n      \"name\": \"Music\"\n    },\n    {\n      \"id\": 9648,\n      \"name\": \"Mystery\"\n    },\n    {\n      \"id\": 10749,\n      \"name\": \"Romance\"\n    },\n    {\n      \"id\": 878,\n      \"name\": \"Science Fiction\"\n    },\n    {\n      \"id\": 10770,\n      \"name\": \"TV Movie\"\n    },\n    {\n      \"id\": 53,\n      \"name\": \"Thriller\"\n    },\n    {\n      \"id\": 10752,\n      \"name\": \"War\"\n    },\n    {\n      \"id\": 37,\n      \"name\": \"Western\"\n    }\n  ]\n\ndocument.addEventListener(\"DOMContentLoaded\", popularOnPageLoad);\n\nfunction popularOnPageLoad() {\n    getMovies(API_URL);\n}\n\nfunction getMovies(url) {\n    fetch(url).then(res => res.json()).then(data => {\n        showMovies(data.results);\n    })\n}\n\nfunction showMovies(data) {\n\n    const markup = data.map(({title, poster_path, release_date, genre_ids}) => {\n       let movieGenre;\n\n        movieGenre = genres.filter(el => el.id === genre_ids[0] || el.id === genre_ids[1] || el.id === genre_ids[2])\n        .map(el => el.name).join(', ');\n\n        let dateToYear = new Date(release_date);\n        const year = dateToYear.getFullYear();\n\n        return `<div class=\"movie\">\n            <a class=\"popular__link\" href=\"${poster_path}\"><img class=\"popular__image\" src=\"${poster_path? IMG_URL+poster_path: \"http://via.placeholder.com/1080x1580\" }\" alt=\"${title}\"></a>\n                <div class=\"movie-info\">\n                    <h3>${title.toUpperCase()}</h3>\n                    <div class=\"movie__description\"> \n                        <div class=\"movie__genre\">${movieGenre}</div>\n                        <div class=\"movie__release_date\">${year}</div>\n                    </div>\n                </div>\n        </div>`\n    }).join(\"\");\n    main.insertAdjacentHTML('beforeend', markup);\n}\n","import * as api from './js/api';\nimport * as headerHome from './js/header-home';\nimport * as headerLibrary from './js/header-library';\nimport * as card from './js/card';\nimport * as modal from './js/modal';\nimport * as popular from './js/popular';"]}